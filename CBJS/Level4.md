Check source code của level4

![image](https://user-images.githubusercontent.com/115911041/226946815-f1348d2f-21ac-4bfe-9773-5a954503147b.png)

Ở line 20, filter 3 đuôi `.phar`, `.phtml` và `.php` bằng cách sử dụng hàm [in_array()](https://www.w3schools.com/php/func_array_in_array.asp)

Vậy thì nếu biến $extension có giá trị nằm trong 3 đuôi trên thì bị chặn.

Nhưng challenge lần này dev đã cho thêm 1 file apache2. Mở file apache2

![image](https://user-images.githubusercontent.com/115911041/226948948-168e7540-049b-43ac-9227-a01f2cb88863.png)

Bắt đầu phân tích từ line 35 đến line 40. Ta thấy Apache này cho phép ta upload file .htaccess để ghi đè. Các file htaccess là file cấu hình ch thư mục hiện tại. Ta còn có thể add thêm extension và cho nó thực thi theo loại file ta muốn.

![image](https://user-images.githubusercontent.com/115911041/226954170-6c5ecf31-00ab-4ea7-8853-6e4f095a26ae.png)

Lúc này tất cả các file có đuôi là `hack` sẽ được execute dưới dạng file php

Vậy ta sẽ upload file htaccess với content như trên:

![image](https://user-images.githubusercontent.com/115911041/226967862-73aaf75c-1996-43ef-8f8c-67bc4d74a2fc.png)

Kế đó upload file debug.hack với hàm `system()` để đọc flag

![image](https://user-images.githubusercontent.com/115911041/226968150-9b552ca0-a6bc-4a89-aaf8-7d69ed25b52c.png)










